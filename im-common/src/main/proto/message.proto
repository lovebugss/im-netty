syntax = "proto3";

package com.itrjp.im.proto.message;
option java_outer_classname = "MessageProto";

service Message{
  // onMessage
  rpc onMessage(MessageRequest) returns (ApiResponse){}

  // 上下线
  rpc onJoinLeave(JoinLeaveRequest) returns (ApiResponse){}


}

message JoinLeaveRequest{
  string channelId = 1; // 频道id
  string userId = 2; // 用户id
  OperateType type = 3; // 操作类型

}
enum OperateType{
  join = 0;
  leave = 1;
}

message MessageRequest{
  string channelId = 1; // 频道ID
  string userId = 2; // 用户ID
  string content = 3; // 消息体
  string from = 4;
  string to = 5;
}

message ApiResponse{
  int32 code = 1;
  string message = 2;
}

